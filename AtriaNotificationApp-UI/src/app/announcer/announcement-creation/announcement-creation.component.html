<div *ngIf="all_announcement">
  <div>
    <label>Choose Announcement:</label>
  </div>
  <p-autoComplete [(ngModel)]="announcement" [suggestions]="announcement_suggestions" (completeMethod)="searchAnnouncement($event)"
    [dropdown]="true" field="title" [size]="25" [inputStyle]="{'padding': '0.42em', 'text-transform': 'capitalize'}"
    [style]="{'text-transform': 'capitalize'}" (onSelect)="chooseAnnouncement()"></p-autoComplete>
  <div class="my-3" *ngIf="!announcement_panel">
    <button class="btn btn-sm btn-info mr-2" *ngIf="edit" (click)="editAnnouncement()">Edit Announcement</button>
    <button class="btn btn-sm btn-primary" (click)="addAnnouncement()">Add Announcement</button>
  </div>

  <form *ngIf="announcement_panel" (ngSubmit)="announcementSubmit()" style="max-width: 500px;" class="card my-3 p-2">
    <div class="form-group">
      <label for="announcementName">Announcement Title:</label>
      <input type="text" name="title" [(ngModel)]="announcementData.title" class="form-control" #announcementName="ngModel" [ngStyle]="{'border-left':checkUnique() && announcementName.dirty ? '5px solid #a94442' : ''}">
      <div class="invalid-feedback d-block" *ngIf="checkUnique() && announcementName.dirty">
        *Name already Exists
      </div>
    </div>

    <div class="form-group">
      <label for="description">Description:</label>
      <input type="text" name="description" [(ngModel)]="announcementData.description" class="form-control">
    </div>

    <div class="form-group">
      <label for="schedule">Date (Optional): </label>
      <dl-date-time-picker
      maxView="year"
      minView="minute"
      startView="day"
      minuteStep="5"
      [(ngModel)]="announcementData.dateSchedule"
      [ngModelOptions]="{standalone: true}"
      ></dl-date-time-picker>
      <div *ngIf="announcementData.dateSchedule">
        Date set: {{ getScheduleDate | date:'medium' }}
      </div>
    </div>

    <div class="form-group">
      <input type="file" name="announcementImage" (change)="setImage($event, 'img')" accept="image/*">
    </div>

    <div>
      <button class="btn btn-sm btn-primary" type="submit" [disabled]="!edit && checkUnique()">
        <span *ngIf="edit">Save Changes</span>
        <span *ngIf="!edit">Submit</span>
      </button>
      <button class="btn btn-sm btn-danger ml-2" (click)="closeAnnouncementPanel()">Cancel</button>
    </div>
  </form>
</div>